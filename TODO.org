#+STARTUP: overview
#+STARTUP: hidestars
#+STARTUP: indent

* DONE Automated multi-session test [17/17]
  CLOSED: [2009-09-05 Sat 12:08]
   - [X] External test (put in util)
   - [X] Use Mechanize
   - [X] Start script with a participant ID and comply/nocomply/randomcomply
   - [X] Method for random wait times between clicks
     - [X] short
     - [X] long
   - [X] Import correction fixtures
   - [X] Login
     - [X] Load login page
     - [X] Login successfully
     - [X] Status feedback
   - [X] Tutorial
     - [X] Click through to first example
     - [X] Work example
     - [X] Click through to tax return
     - [X] Fill out tax return
     - [X] Click through the rest of the tutorial
     - [X] Random back clicks until the end
     - [X] Click on Begin button
   - [X] Experiment
     - [X] Reload wait screen every five seconds until redirected to begin
     - [X] Click to task
     - [X] Complete task with random number of fixes
     - [X] Verify # of fixes
     - [X] Fill out taxes per comply/noncomply, noncomply randomly
     - [X] Click through, note if audit occurs
     - [X] Click on through until wait or complete
   - [X] Survey
     - [X] Get there successfully from experiment
     - [X] Just choose randomly for each question
     - [X] Fill in the blanks use 0-100
   - [X] Complete
   - [X] Script to init a new test session
   - [X] Script to kick off a test session
   - [X] Run test with 1 user
   - [X] Run test with 2 users
   - [X] Run test with 5 users
   - [X] Run test with 10 users
   - [X] Run test with 20 users
         Blew up down to 12???
         Did another run separating testbot starts by a second and it ended up okay
         Must be a side effect of starting the sessions too close together, but I still can't
         figure out why it would *delete* them. Too much MySQL load?

* DONE Complete setup script for EC2 instance [7/7]
  CLOSED: [2009-09-05 Sat 15:11]
   - [X] packages -- sticking on mysql-server password
   - [X] phdproject user
   - [X] mounts
   - [X] Add git repo to github
     - [X] Figure out how to import an existing repo
     - [X] Do it
   - [X] Set up the app on the /apps volume
   - [X] Next to last step of setup script should be to do a git pull as phdproject
   - [X] Last step of setup script should be to startup mongrels and httpd as phdproject

* DONE Run tests against EC2 instance [3/3]
  CLOSED: [2009-09-05 Sat 15:55]
  - [X] Give tests slower timing
  - [X] Update test script to point to EC2
  - [X] Also use vmstat to track server load
        $ vmstat -a -n 5 > perf.log
        20 bots going one second per page load pretty well maxes out a c1.large

* TODO Verify audit rates [2/3]
  - [X] Run these tests fast against local machine
  - [X] Run 200 tests with 5 honest participants: should audit 1 person on average, 200 total
        FOUND THE BUG! comparing recalculated correct tax with the paid tax was resulting in
        noncompliance audit rates over half the time.
        Letting it run overnight anyway to doublecheck.
  - [ ] Run 200 tests with 5 dishonest participants: should audit 2 people on average, 400 total

* TODO Participant detail page [3/5]
  - [ ] Admin summary up top
  - [ ] Management functionality
    - [ ] Reset browser session
    - [ ] Drop from experimental session
    - [ ] Force complete?
    - [ ] Mark paid
      - [ ] Add paid_at timestamp to participant model
      - [ ] Should only work if participant is complete
  - [X] Details
  - [X] Round history
    - [X] Earnings
    - [X] Reported
    - [X] Taxes
    - [X] Audited
    - [X] Backtax
    - [X] Penalty
  - [X] Full activity log
    - [X] highlight errors
    - [X] highlight sequence errors

* TODO Necessary admin features [0/8]
  - [ ] Link to fix an errored participant (set is_active to false)
  - [ ] Link to deactivate a broken participant
        disassociate from experimental session? or mark some other way?
  - [ ] Link to close an experimental session
        some way to force-close a useless session
  - [ ] Move closed sessions to the end of the list
  - [ ] Move create session form to the top of the sessions page
  - [ ] Page to print off participant numbers
  - [ ] CSV export of data for a session

* TODO Autotimer on work page [0/4]
   - [ ] Background ajax call checking the server time
   - [ ] Server saves first load time to compare against (reloads won't break anything)
   - [ ] Update the timer based on server time remaining
   - [ ] Upon zero time, force submit
* TODO Future fanciness [0/4]
   - [ ] Make experimental message a dramatic modal dialog over the top of the tax return page
   - [ ] Artificial delay with wait message on earnings calculation and audit calculation
   - [ ] Make sure firefox's spellcheck can be turned off
   - [ ] Restyle example pages to be different than other tutorial pages


